<html>
    <head>

        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <link rel="icon" href="atlas/images/favicon.ico">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
        <link rel="stylesheet" href="atlas/css/normalize.css">
        <link rel="stylesheet" href="atlas/css/whyilift.css">
        <link rel="stylesheet" href="atlas/css/styleWhyilift.css">
        <link rel="stylesheet" href="atlas/css/responsive.css">
        
        
        <title>New Profile Registration</title>
        <link type="text/css" href="atlas/css/ui-lightness/jquery-ui-1.8.18.custom.css">
        <script type="text/javascript" async="" src="http://www.google-analytics.com/ga.js"></script>
        <script type="text/javascript" src="atlas/js/jquery-1.11.2.min.js"></script>
        <script type="text/javascript" src="atlas/js/jquery-ui-1.8.18.custom.min.js"></script>
        <script type="text/javascript" src="atlas/js/jquery.dateFormat-1.0.js"></script>
        <script>
        
            // jQuery plugin to prevent double submission of forms
            jQuery.fn.preventDoubleSubmission = function() {
                $(this).bind('submit', function(e) {
        
                    if ($(this).data('submitted') === true) {
                        // Previously submitted - don't submit again
                        e.preventDefault();
                    } else {
                        // Mark this so that the next submit can be ignored
                        $(this).data('submitted', true);
                    }
                });
        
                // Keep chainability
                return $(this);
            };
        
            $('form').preventDoubleSubmission();
        
            function checkUserName() {
                $(function() {
                    // Call a URL and pass one argument
                    // Also pass a call back function
                    // See http://api.jquery.com/jQuery.post/
                    // See http://api.jquery.com/jQuery.ajax/
                    // You might find a warning in Firefox: Warning: Unexpected token in attribute selector: '!' 
                    // See http://bugs.jquery.com/ticket/7535
                    $
                            .post(
                                    "/atlas/userReg/ajax/userNameExists",
                                    {
                                        userName : $("#user\\.username").val()
                                    }, function(data) {
                                        // data contains the result
                                        // Assign result to the sum id
                                        $("#userNameExists").replaceWith(
                                                '<span id="userNameExists">' + data
                                                        + '</span>');
                                    });
                });
            }
        
            function checkEmail() {
                $(function() {
                    // Call a URL and pass one argument
                    // Also pass a call back function
                    // See http://api.jquery.com/jQuery.post/
                    // See http://api.jquery.com/jQuery.ajax/
                    // You might find a warning in Firefox: Warning: Unexpected token in attribute selector: '!' 
                    // See http://bugs.jquery.com/ticket/7535
                    $.post("/atlas/userReg/ajax/emailExists",
                        {
                        email : $("#email\\.email").val()
                        }, function(data) {
                        // data contains the result
                        // Assign result to the sum id
                        $("#emailExists").replaceWith(
                            '<span id="emailExists">' + data
                            + '</span>');
                        });
                });
            }
            
            function validate1() {
                var isOK = true;
                var emailAddr = document.getElementById("email.email");
                if (emailAddr.value=="") {
                    alert('Email must have a value');
                    return false;
                }
        
                
                return(isOK);
            }
        
            function validate2() {
                var isOK = true;
                var firstName = document.getElementById("person.firstName");
                if (firstName.value=="") {
                    alert('First Name must have a value');
                    return false;
                }
                var lastName = document.getElementById("person.lastName");
                if (lastName.value=="") {
                    alert('Last Name must have a value');
                    return false;
                }	    
                var birthYr = document.getElementById("person.birthYear");
                if (birthYr.selectedIndex=="0") {
                    alert('Please select a Birth Year.');
                    return false;
                } 
                var userName = document.getElementById("user.username");
                if (userName.value=="") {
                    alert('User Name must have a value');
                    return false;
                }
                var passwd = document.getElementById("user.password");
                if (passwd.value=="") {
                    alert('Password must have a value');
                    return false;
                }	 
                var cpasswd = document.getElementById("confirmPassword");
                if (cpasswd.value=="") {
                    alert('Comfirm Password must have a value');
                    return false;
                }	    
                return(isOK);
            }
        
            function validate3() {
                var isOK = true;
                var experience = document.getElementById("lifter.experienceLifting");
                if (experience.value=="") {
                    alert('Lifter Experience must have a value');
                    return false;
                }
                var federation = document.getElementById("lifter.federationCode");
                if (federation.selectedIndex=="0") {
                    alert('Please select a Federation.');
                    return false;
                } 	    
                var lastName = document.getElementById("person.lastName");
                if (lastName.value=="") {
                    alert('Last Name must have a value');
                    return false;
                }	    
                var birthYr = document.getElementById("person.birthYear");
                if (birthYr.selectedIndex=="0") {
                    alert('Please select a Birth Year.');
                    return false;
                } 
                var weight = document.getElementById("person.weight");
        
                var height = document.getElementById("person.height");
                if (height.value=="") {
                    alert('Lifter Height must have a value');
                    return false;
                }
                var heightUnits = document.getElementById("person.heightUnitsCode");
                if (heightUnits.selectedIndex=="0") {
                    alert('Please select a Lifter Height Units Code.');
                    return false;
                }	
        
                if (weight.value=="") {
                    alert('Lifter Weight must have a value');
                    return false;
                }
                var weightUnits = document.getElementById("person.weightUnitsCode");
                if (weightUnits.selectedIndex=="0") {
                    alert('Please select a Lifter Weight Units Code.');
                    return false;
                } 	    
                
                //  START BELOW STEP 3 PROCESSING 
                var country = document.getElementById("person.nationality");
                if (country.selectedIndex=="0") {
                    alert('Please select a Country.');
                    return false;
                } 	    
                 
                var bio = document.getElementById("lifter.bio");
                if (bio.value=="") {
                    alert('Lifter Bio must have a value');
                    return false;
                }	    
                
                if( document.getElementById("pictureExtList[0].pictureFile").files.length == 0 ){
                    alert('Please Select one primary picture for your Profile');
                    return false;
                }
        
                
                return(isOK);
            }
        
            
            function submitForm() {
                var form = document.getElementById("newProfileMulti");
                    form.submit();
            }	
            
        </script>
        
            <script type="text/javascript">
        
          var _gaq = _gaq || [];
          _gaq.push(['_setAccount', 'UA-33290596-1']);
          _gaq.push(['_trackPageview']);
        
          (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
          })();
        
        </script>
        
        
    </head>
    <body class="background-image">
        
        <nav class="navbar navbar-expand-lg navbar-dark bg-brand-black sticky-top">
            <a class="navbar-brand d-flex w-50 mr-auto" href="atlas/home"> <img src="atlas/images/logo.png" alt="Why I lift logo" width="100" height="45"></a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#main-nav-links">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="navbar-collapse collapse w-100" id="main-nav-links">
                <ul class="navbar-nav w-100 justify-content-center">
                    <li class="nav-item main-nav-item active"><a class="nav-link" href="atlas/home">Home</a></li>
                    <li class="nav-item main-nav-item"><a class="nav-link" href="atlas/profile/showProfiles?lastNameSubString=initial">Profiles</a></li>
                    <li class="nav-item main-nav-item"><a class="nav-link" href="https://ipowerliftnet.zenfolio.com/recent.html" target="_blank">Pictures</a></li>
                    <li class="nav-item main-nav-item"><a class="nav-link" href="atlas/video/premiumListAll">Videos</a></li>
                    <li class="nav-item main-nav-item"><a class="nav-link" href="atlas/whyilift_mission">Mission</a></li>
                    <li class="nav-item main-nav-item"><a class="nav-link" href="atlas/article/viewArticle?articleId=66&amp;">Nutrition</a></li>
                </ul>
                <form class="form-inline nav ml-auto w-100 justify-content-end">
                    <a class="btn btn-outline-light my-2 my-sm-0" id="login-btn" href="atlas/auth/login" role="button">Login</a>
                    <a class="btn btn-danger my-2 my-sm-0" id="create-profile-btn" href="atlas/profile/newProfile" role="button">Create Profile</a>
                </form>
            </div>
        </nav>
    
        <main role="main" class="container">
            <div class="card-footer mb-3 mt-3">
                <div class="card-header bg-brand-red">
                    <h2>New Profile Registration <small class="font-weight-light lead">Step: 2 of 3</small></h2>
                </div>
                <div class="card-body" style="background-color: lightgray;">
                    <form id="newProfileMulti" class="needs-validation" action="/atlas/profile/addProfile2" method="POST" enctype="multipart/form-data">
                        
                        <!-- STEP 1 show form is step 1 else hidden fields if not step 1 -->
                        <input id="lifter.sport" name="lifter.sport" type="hidden" value="Olympic Lifting">
                        <input id="email.emailId" name="email.emailId" type="hidden" value="">
                        <input id="email.contactId" name="email.contactId" type="hidden" value="">
                        <input id="email.emailClassType" name="email.emailClassType" type="hidden" value="">
                        <input id="currentEmail" name="currentEmail" type="hidden" value="">
                        <input id="email.email" name="email.email" type="hidden" value="whyilift1@mailinator.com">
                        <input id="person.gender" name="person.gender" type="hidden" value="2">
                        <!-- END STEP 1 -->
            
                        <div class="form-group row">
                            <label class="col-md-3 col-form-label text-md-right" for="firstName">Full Name</label>
                            <div class="col-sm-8">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text"><i class="fas fa-user"></i></span>
                                    </div>
                                    <input id="person.firstName" name="person.firstName" class="form-control" type="text" value="" placeholder="First">
                                    <input id="person.middleName" name="person.middleName" class="form-control" type="text" value="" placeholder="Middle">
                                    <input id="person.lastName" name="person.lastName" class="form-control" type="text" value="" placeholder="Last">

                                    <input id="ipowerliftId" name="ipowerliftId" type="hidden" value="">
                                    <input id="person.ipowerliftId" name="person.ipowerliftId" type="hidden" value="">
                                    <input id="person.contactId" name="person.contactId" type="hidden" value="">                                        
                                </div>
                            </div>
                        </div>

                        <div class="form-group row">
                            <label class="col-md-3 col-form-label text-md-right" for="birthYear">Birth Year</label>
                            <div class="col-lg-3 col-md-4">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text"><i class="fas fa-calendar"></i></span>
                                    </div>
                                    <select id="person.birthYear" name="person.birthYear" class="form-control">
                                        <option value="" selected="selected" disabled>--- Select ---</option>
                                        <option value="2016">2016</option><option value="2015">2015</option><option value="2014">2014</option><option value="2013">2013</option><option value="2012">2012</option><option value="2011">2011</option><option value="2010">2010</option><option value="2009">2009</option><option value="2008">2008</option><option value="2007">2007</option><option value="2006">2006</option><option value="2005">2005</option><option value="2004">2004</option><option value="2003">2003</option><option value="2002">2002</option><option value="2001">2001</option><option value="2000">2000</option><option value="1999">1999</option><option value="1998">1998</option><option value="1997">1997</option><option value="1996">1996</option><option value="1995">1995</option><option value="1994">1994</option><option value="1993">1993</option><option value="1992">1992</option><option value="1991">1991</option><option value="1990">1990</option><option value="1989">1989</option><option value="1988">1988</option><option value="1987">1987</option><option value="1986">1986</option><option value="1985">1985</option><option value="1984">1984</option><option value="1983">1983</option><option value="1982">1982</option><option value="1981">1981</option><option value="1980">1980</option><option value="1979">1979</option><option value="1978">1978</option><option value="1977">1977</option><option value="1976">1976</option><option value="1975">1975</option><option value="1974">1974</option><option value="1973">1973</option><option value="1972">1972</option><option value="1971">1971</option><option value="1970">1970</option><option value="1969">1969</option><option value="1968">1968</option><option value="1967">1967</option><option value="1966">1966</option><option value="1965">1965</option><option value="1964">1964</option><option value="1963">1963</option><option value="1962">1962</option><option value="1961">1961</option><option value="1960">1960</option><option value="1959">1959</option><option value="1958">1958</option><option value="1957">1957</option><option value="1956">1956</option><option value="1955">1955</option><option value="1954">1954</option><option value="1953">1953</option><option value="1952">1952</option><option value="1951">1951</option><option value="1950">1950</option><option value="1949">1949</option><option value="1948">1948</option><option value="1947">1947</option><option value="1946">1946</option><option value="1945">1945</option><option value="1944">1944</option><option value="1943">1943</option><option value="1942">1942</option><option value="1941">1941</option><option value="1940">1940</option><option value="1939">1939</option><option value="1938">1938</option><option value="1937">1937</option><option value="1936">1936</option><option value="1935">1935</option><option value="1934">1934</option><option value="1933">1933</option><option value="1932">1932</option><option value="1931">1931</option><option value="1930">1930</option><option value="1929">1929</option><option value="1928">1928</option><option value="1927">1927</option><option value="1926">1926</option><option value="1925">1925</option><option value="1924">1924</option><option value="1923">1923</option><option value="1922">1922</option><option value="1921">1921</option><option value="1920">1920</option><option value="1919">1919</option><option value="1918">1918</option><option value="1917">1917</option>
                                    </select>  
                                </div>
                            </div>
                        </div>

                        
                        <div class="form-group row">
                            <label class="col-md-3 col-form-label text-md-right" for="Username">Username</label>
                            <div class="col-sm-5">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text"><i class="fas fa-id-card"></i></span>
                                    </div>
                                    <script>
                                        function checkUserName()
                                        {
                                            let username = document.getElementById('user\.username').value;
                                            let url = 'http://172.100.199.196/atlas/userReg/ajax/userNameExists?userName='+username;
                                            fetch( url, { method: 'POST' })
                                            .then( response => response.text())
                                            .then( data =>{
                                                let exists = data === "true";
                                                document.getElementById('usernameExists').hidden = !exists;
                                                document.getElementById('usernameExistsIcon').classList = exists ? 'text-danger fas fa-times' : 'text-success fas fa-check';
                                            })
                                        }
                                    </script>
                                    <input id="user.username" name="user.username" class="form-control" type="text" value="" placeholder="" onblur="checkUserName()">
                                    <div class="input-group-append">
                                        <span class="input-group-text"><i id="usernameExistsIcon" class="fas fa-ellipsis-h"></i></span>
                                    </div>
                                </div>
                                <span class="text-muted col-form-label-sm">Allowed characters: lowercase {a-z 0-9 _}; Length: 3-20</span>
                            </div>
                            <span id="usernameExists" class="text-danger" hidden>Username already exsits</span>
                        </div>

                        <div class="form-group row">
                            <label class="col-md-3 col-form-label text-md-right" for="password">Password</label>
                            <div class="col-md-5">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text"><i class="fas fa-key"></i></span>
                                    </div>
                                    <input id="user.password" name="user.password" class="form-control" type="password" value="" placeholder="">
                                    
                                </div>
                                <span class="text-muted col-form-label-sm">Allowed Characters: lower and uppercase {A-Z a-z 0-9};Length: 4-20</span>
                            </div>
                        </div>    

                        <div class="form-group row">
                            <label class="col-md-3 col-form-label text-md-right" for="confirmPassword">Confirm Password</label>
                            <div class="col-md-5">
                                <div class="input-group">
                                    <div class="input-group-prepend"><span class="input-group-text"><i class="fas fa-key"></i></span></div>
                                    <input id="confirmPassword" name="confirmPassword" class="form-control" type="password" value="" placeholder="">
                                </div>
                            </div>                                
                        </div>
                        
                        
                        <div class="form-group row">
                            <div class="col-md-6 offset-md-3">
                                <button class="btn btn-primary btn-danger mb-3" type="button" onclick="if(validate1()){submitForm();}">Next</button>
                            </div>
                        </div>
                    </div>
                        

                    </form>
                </div>
            </div>
        </main>
        
        <footer class="footer bg-brand-black" style="margin-top: 10px;">
            <div class="container">
                <div class="row">
                    <div class="col-lg-10 col-md-12">Copyright © WhyILift.com 2019
                        All Rights Reserved. All content and information is proprietary.</div>
                    <div class="col-lg-2 col-md-12">
                        <i class="fa fa-envelope"></i>&nbsp;<a href="mailto:support@whyilift.com"><span class="text-muted">Contact
                                Us</span></a>
                    </div>
                </div>
            </div>
        </footer>
        <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    
    </body>
</html>